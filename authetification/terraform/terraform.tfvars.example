# Exemple de fichier terraform.tfvars pour Azure
# Copiez ce fichier vers terraform.tfvars et remplissez les valeurs

# Configuration Terraform Cloud
terraform_organization = "my-org"
terraform_workspace    = "vm-provisioning"

# Configuration Azure
azure_location = "West Europe"
environment    = "production"
application_name = "VM-Provisioning-System"

# Configuration de la VM
vm_name    = "example-vm"
demande_id = "demande-123"

# Configuration instance Azure
vm_size         = "Standard_B2s"  # 2 vCPU, 4 GB RAM
image_publisher = "Canonical"
image_offer     = "UbuntuServer"
image_sku       = "22.04-LTS"

# Configuration authentification
admin_username = "azureuser"
admin_password = ""  # Pour Windows uniquement
ssh_public_key = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQ..."  # Pour Linux

# Configuration OS
os_type    = "Ubuntu"
os_version = "22.04"

# Configuration ressources
cpu_cores = 2
ram_gb    = 4

# Configuration stockage
disk_size           = 30
disk_type           = "Premium_LRS"  # Premium_LRS, Standard_LRS, StandardSSD_LRS
disk_encryption     = true
additional_storage_size = 0

# Configuration réseau
subnet_id        = ""  # Laissez vide pour créer automatiquement un VNet
create_vnet      = true
vnet_address_space = "10.0.0.0/16"
subnet_address_prefix = "10.0.1.0/24"
assign_public_ip = true

# Configuration monitoring
enable_monitoring = true

# Règles de pare-feu (Network Security Group)
firewall_rules = [
  {
    name                   = "SSH"
    priority               = 1000
    protocol               = "Tcp"
    destination_port_range = "22"
    source_address_prefix  = "*"
    description            = "SSH"
  },
  {
    name                   = "HTTP"
    priority               = 1001
    protocol               = "Tcp"
    destination_port_range = "80"
    source_address_prefix  = "*"
    description            = "HTTP"
  },
  {
    name                   = "HTTPS"
    priority               = 1002
    protocol               = "Tcp"
    destination_port_range = "443"
    source_address_prefix  = "*"
    description            = "HTTPS"
  }
]

# User data (script de configuration initiale pour Linux)
user_data = <<-EOF
#!/bin/bash
# Script de configuration initiale
apt-get update
apt-get install -y nginx
systemctl enable nginx
systemctl start nginx
EOF
